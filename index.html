<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¡œë˜ ë²ˆí˜¸ ì¶”ì²œê¸°</title>
    <!-- Tailwind CSS (ìŠ¤íƒ€ì¼ë§ì„ ìœ„í•´ ì‚¬ìš©) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* ê³µì´ ë‚˜íƒ€ë‚  ë•Œì˜ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ */
        @keyframes popIn {
            0% {
                opacity: 0;
                transform: scale(0.5) translateY(20px);
            }
            70% {
                transform: scale(1.1) translateY(-5px);
            }
            100% {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        .ball {
            animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
            opacity: 0; /* ì´ˆê¸° ìƒíƒœëŠ” íˆ¬ëª…í•˜ê²Œ */
            position: relative;
            /* 3D ì…ì²´ê°ì„ ìœ„í•œ ê·¸ë¦¼ì íš¨ê³¼ ì ìš© */
            box-shadow: 
                inset -5px -5px 10px rgba(0,0,0,0.3), 
                inset 3px 3px 8px rgba(255,255,255,0.6),
                2px 4px 6px rgba(0,0,0,0.3);
        }

        /* í…ìŠ¤íŠ¸ ê°€ë…ì„± í–¥ìƒì„ ìœ„í•œ ë‚´ë¶€ ìš”ì†Œ */
        .ball span {
            position: relative;
            z-index: 10;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.4);
        }

        /* ê³µ ìƒ‰ìƒ ì •ì˜ (3D ê·¸ë¼ë°ì´ì…˜ ì ìš©) */
        .color-yellow { background: radial-gradient(circle at 30% 30%, #ffe359, #fbc400, #c49400); color: #222; }
        .color-yellow span { text-shadow: 1px 1px 0px rgba(255,255,255,0.6); }
        .color-blue { background: radial-gradient(circle at 30% 30%, #8de0ff, #69c8f2, #248abf); }
        .color-red { background: radial-gradient(circle at 30% 30%, #ff9e9e, #ff7272, #cc2929); }
        .color-gray { background: radial-gradient(circle at 30% 30%, #d4d4d4, #aaaaaa, #666666); }
        .color-green { background: radial-gradient(circle at 30% 30%, #d4f77c, #b0d840, #6c8a16); color: #222; }
        .color-green span { text-shadow: 1px 1px 0px rgba(255,255,255,0.6); }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen flex items-center justify-center p-4 font-sans text-gray-800">

    <div class="max-w-2xl w-full bg-white rounded-3xl shadow-xl overflow-hidden p-4 sm:p-8 text-center border border-gray-100">
        
        <!-- í—¤ë” ì„¹ì…˜ -->
        <div class="mb-8">
            <h1 class="text-3xl font-extrabold text-indigo-900 mb-2">í–‰ìš´ì˜ ë¡œë˜ ë²ˆí˜¸</h1>
            <p class="text-gray-500 text-sm">ë²„íŠ¼ì„ ëˆŒëŸ¬ ì´ë²ˆ ì£¼ í–‰ìš´ì˜ ë²ˆí˜¸ë¥¼ í™•ì¸í•˜ì„¸ìš”!</p>
        </div>

        <!-- ë²ˆí˜¸ í‘œì‹œ ì˜ì—­ -->
        <div id="numbers-container" class="flex flex-wrap justify-center items-center gap-1 sm:gap-2 md:gap-3 min-h-[80px] mb-8 py-2">
            <!-- ë²ˆí˜¸ê°€ ì—¬ê¸°ì— ìƒì„±ë©ë‹ˆë‹¤. ì²˜ìŒì—ëŠ” ë¹„ì–´ìˆê±°ë‚˜ ì•ˆë‚´ ë¬¸êµ¬ í‘œì‹œ -->
            <div class="text-gray-400 flex items-center h-14">
                ì•„ì§ ì¶”ì²¨ëœ ë²ˆí˜¸ê°€ ì—†ìŠµë‹ˆë‹¤.
            </div>
        </div>

        <!-- ì¶”ì²¨ ë²„íŠ¼ -->
        <button id="generate-btn" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 px-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:-translate-y-1 active:translate-y-0 text-lg">
            ë²ˆí˜¸ ì¶”ì²¨í•˜ê¸° ğŸ€
        </button>

        <!-- ëˆ„ì  ê²°ê³¼ í‘œì‹œ ì˜ì—­ -->
        <div id="history-section" class="mt-8 hidden text-left border-t border-gray-200 pt-6">
            <h2 class="text-xl font-bold text-gray-700 mb-4">ì´ì „ ì¶”ì²¨ ê¸°ë¡</h2>
            <div id="history-list" class="flex flex-col gap-3 max-h-60 overflow-y-auto pr-2">
                <!-- ê¸°ë¡ì´ ì—¬ê¸°ì— ì¶”ê°€ë©ë‹ˆë‹¤ -->
            </div>
        </div>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const generateBtn = document.getElementById('generate-btn');
            const numbersContainer = document.getElementById('numbers-container');
            const historySection = document.getElementById('history-section');
            const historyList = document.getElementById('history-list');

            let currentDraw = null; // í˜„ì¬ ì¶”ì²¨ëœ ë²ˆí˜¸ ì €ì¥ìš©
            let drawCount = 0; // ì¶”ì²¨ íšŒì°¨

            // ë²ˆí˜¸ì— ë”°ë¥¸ ê³µ ìƒ‰ìƒ í´ë˜ìŠ¤ ë°˜í™˜ í•¨ìˆ˜
            function getBallColorClass(number) {
                if (number <= 10) return 'color-yellow';
                if (number <= 20) return 'color-blue';
                if (number <= 30) return 'color-red';
                if (number <= 40) return 'color-gray';
                return 'color-green';
            }

            // ë¡œë˜ ë²ˆí˜¸ ìƒì„± í•¨ìˆ˜ (1~45 ì¤‘ ì¤‘ë³µ ì—†ëŠ” 7ê°œ ìˆ«ì)
            function generateLottoNumbers() {
                const numbers = new Set();
                while (numbers.size < 7) { // ë³´ë„ˆìŠ¤ ë²ˆí˜¸ í¬í•¨ ì´ 7ê°œ ì¶”ì¶œ
                    const randomNum = Math.floor(Math.random() * 45) + 1;
                    numbers.add(randomNum);
                }
                const numbersArray = Array.from(numbers);
                
                // ì²˜ìŒ 6ê°œëŠ” ë©”ì¸ ë²ˆí˜¸(ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬), ë§ˆì§€ë§‰ 1ê°œëŠ” ë³´ë„ˆìŠ¤ ë²ˆí˜¸
            const mainNumbers = numbersArray.slice(0, 6).sort((a, b) => a - b);
            const bonusNumber = numbersArray[6];
            
            return { mainNumbers, bonusNumber };
        }

        // ê¸°ë¡ì— ì¶”ê°€í•˜ëŠ” í•¨ìˆ˜
        function addDrawToHistory(drawData, round) {
            historySection.classList.remove('hidden');
            
            const historyRow = document.createElement('div');
            historyRow.className = 'flex items-center justify-between bg-gray-50 p-3 rounded-xl border border-gray-100 shadow-sm';
            
            const roundTag = document.createElement('span');
            roundTag.className = 'text-sm font-bold text-indigo-500 w-12 shrink-0';
            roundTag.textContent = `${round}íšŒì°¨`;
            
            const ballsContainer = document.createElement('div');
            ballsContainer.className = 'flex items-center gap-1 sm:gap-2 flex-1 justify-center';
            
            const itemsToRender = [...drawData.mainNumbers, '+', drawData.bonusNumber];
            
            itemsToRender.forEach(item => {
                if (item === '+') {
                    const plusSign = document.createElement('span');
                    plusSign.className = 'text-gray-400 font-bold text-xs sm:text-sm mx-0.5 sm:mx-1 shrink-0';
                    plusSign.textContent = '+';
                    ballsContainer.appendChild(plusSign);
                } else {
                    const ball = document.createElement('div');
                    const colorClass = getBallColorClass(item);
                    // ê¸°ë¡ìš© ê³µì€ í¬ê¸°ë¥¼ ì‘ê²Œ ì„¤ì •í•˜ê³  ì• ë‹ˆë©”ì´ì…˜ ì œê±°
                    ball.className = `ball ${colorClass} w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-bold text-white shrink-0`;
                    ball.style.animation = 'none'; // ì• ë‹ˆë©”ì´ì…˜ ì œê±°
                    ball.style.opacity = '1'; // í•­ìƒ ë³´ì´ê²Œ
                    
                    const textSpan = document.createElement('span');
                    textSpan.textContent = item;
                    ball.appendChild(textSpan);
                    
                    ballsContainer.appendChild(ball);
                }
            });

            historyRow.appendChild(roundTag);
            historyRow.appendChild(ballsContainer);
            
            // ìµœì‹  ê¸°ë¡ì´ ìœ„ë¡œ ì˜¬ë¼ì˜¤ë„ë¡ prepend
            historyList.prepend(historyRow);
        }

        // ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ ì²˜ë¦¬
        generateBtn.addEventListener('click', () => {
            // ì´ì „ ì¶”ì²¨ ê²°ê³¼ê°€ ìˆë‹¤ë©´ ê¸°ë¡ìœ¼ë¡œ ì´ë™
            if (currentDraw) {
                addDrawToHistory(currentDraw, drawCount);
            }

            // ê¸°ì¡´ ë‚´ìš© ì§€ìš°ê¸°
            numbersContainer.innerHTML = '';
            
            // ë²„íŠ¼ ë¹„í™œì„±í™” (ì• ë‹ˆë©”ì´ì…˜ ë„ì¤‘ ì¤‘ë³µ í´ë¦­ ë°©ì§€)
            generateBtn.disabled = true;
            generateBtn.classList.add('opacity-75', 'cursor-not-allowed');
            generateBtn.textContent = 'ì¶”ì²¨ ì¤‘...';

            drawCount++;
            currentDraw = generateLottoNumbers();
            
            // í™”ë©´ì— ìˆœì°¨ì ìœ¼ë¡œ í‘œì‹œí•  ë°°ì—´ (ë©”ì¸ 6ê°œ + ë”í•˜ê¸° ê¸°í˜¸ + ë³´ë„ˆìŠ¤ 1ê°œ)
            const itemsToRender = [...currentDraw.mainNumbers, '+', currentDraw.bonusNumber];

            // ìš”ì†Œë¥¼ í•˜ë‚˜ì”© ìˆœì°¨ì ìœ¼ë¡œ í™”ë©´ì— í‘œì‹œ (ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼)
            itemsToRender.forEach((item, index) => {
                setTimeout(() => {
                    if (item === '+') {
                            // ë”í•˜ê¸°(+) ê¸°í˜¸ ìƒì„±
                            const plusSign = document.createElement('div');
                            plusSign.className = 'text-gray-400 font-bold text-lg min-[380px]:text-xl sm:text-2xl md:text-3xl mx-1 sm:mx-2 shrink-0 opacity-0';
                            plusSign.style.animation = 'popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards';
                            plusSign.textContent = '+';
                        numbersContainer.appendChild(plusSign);
                    } else {
                        // ë¡œë˜ ê³µ ìƒì„±
                        const ball = document.createElement('div');
                        const colorClass = getBallColorClass(item);
                        
                        // ì•„ì£¼ ì‘ì€ ëª¨ë°”ì¼ í™”ë©´ì—ì„œë„ í•œ ì¤„ì— ë‚˜ì˜¤ë„ë¡ ìµœì í™” (min-width: 380px ê¸°ì¤€ìœ¼ë¡œ í¬ê¸° í™•ëŒ€)
                        ball.className = `ball ${colorClass} w-8 h-8 min-[380px]:w-10 min-[380px]:h-10 sm:w-14 sm:h-14 md:w-16 md:h-16 rounded-full flex items-center justify-center text-xs min-[380px]:text-base sm:text-xl md:text-2xl font-bold text-white shrink-0`;
                        
                        // í…ìŠ¤íŠ¸ë¥¼ ê°ì‹¸ëŠ” span ìš”ì†Œ ì¶”ê°€ (ê·¸ë¦¼ì íš¨ê³¼ ì ìš©ì„ ìœ„í•´)
                        const textSpan = document.createElement('span');
                        textSpan.textContent = item;
                        ball.appendChild(textSpan);
                        
                        numbersContainer.appendChild(ball);
                    }

                    // ë§ˆì§€ë§‰ ìš”ì†Œ(ë³´ë„ˆìŠ¤ ê³µ)ê°€ í‘œì‹œëœ í›„ ë²„íŠ¼ ë‹¤ì‹œ í™œì„±í™”
                    if (index === itemsToRender.length - 1) {
                            setTimeout(() => {
                                generateBtn.disabled = false;
                                generateBtn.classList.remove('opacity-75', 'cursor-not-allowed');
                                generateBtn.innerHTML = 'ë‹¤ì‹œ ì¶”ì²¨í•˜ê¸° ğŸ”„';
                            }, 300);
                        }
                    }, index * 150); // 0.15ì´ˆ ê°„ê²©ìœ¼ë¡œ í•˜ë‚˜ì”© ë‚˜íƒ€ë‚¨
                });
            });
        });
    </script>
</body>
</html>
